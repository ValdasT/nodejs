'USE STRICT'
CONST { JOIN } = REQUIRE('PATH')
CONST { READFILESYNC, WRITEFILESYNC, READDIRSYNC, STATSYNC, WATCH } = REQUIRE('FS')

// CONST CONTENTS = READFILESYNC(__FILENAME)
// CONSOLE.LOG(CONTENTS)

//ENCODING
// CONST CONTENTS = READFILESYNC(__FILENAME, {ENCODING: 'UTF8'})
// CONSOLE.LOG(CONTENTS)



CONST CONTENTS = READFILESYNC(__FILENAME, {ENCODING: 'UTF8'})
WRITEFILESYNC(JOIN(__DIRNAME, 'OUT.TXT'), CONTENTS.TOUPPERCASE())

TRY {
    CONSOLE.LOG('SYNC', READDIRSYNC(__DIRNAME))
  } CATCH (ERR) {
    CONSOLE.ERROR(ERR)
  }


CONST FILES = READDIRSYNC('.')
FOR (CONST NAME OF FILES) {
  CONST STAT = STATSYNC(NAME)
  CONST TYPELABEL = STAT.ISDIRECTORY() ? 'DIR: ' : 'FILE: '
  CONSOLE.LOG(TYPELABEL, NAME)
}

WATCH('.', (EVT, FILENAME) => {
    CONSOLE.LOG(EVT, FILENAME)
  })